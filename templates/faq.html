{% extends 'base.html' %}

{% block title %}Frequently Asked Questions - NFC Contact System{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-10">
            <h1 class="display-4 mb-4 text-center">Frequently Asked Questions</h1>
            <p class="lead text-center mb-5">Everything you need to know about our NFC contact system.</p>

            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    {% for category, message in messages %}
                        <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                            {{ message }}
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>
                    {% endfor %}
                {% endif %}
            {% endwith %}

            <div class="accordion" id="faqAccordion">
                <!-- For Users/Owners -->
                <div class="card mb-4">
                    <div class="card-header bg-light">
                        <h2 class="mb-0">For Item Owners</h2>
                    </div>
                    <div class="card-body px-0 py-0">
                        <div class="accordion" id="ownerAccordion">
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="owner-heading1">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#owner-collapse1" aria-expanded="true" aria-controls="owner-collapse1">
                                        How do I register my NFC tag?
                                    </button>
                                </h2>
                                <div id="owner-collapse1" class="accordion-collapse collapse show" aria-labelledby="owner-heading1" data-bs-parent="#ownerAccordion">
                                    <div class="accordion-body">
                                        To register your NFC tag, simply scan it with your NFC-enabled phone and follow the link to our registration page. If the tag is unregistered, you'll be directed to complete a form with your contact information. Once submitted, your tag is linked to your details in our system.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="owner-heading2">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#owner-collapse2" aria-expanded="false" aria-controls="owner-collapse2">
                                        Is my personal information secure?
                                    </button>
                                </h2>
                                <div id="owner-collapse2" class="accordion-collapse collapse" aria-labelledby="owner-heading2" data-bs-parent="#ownerAccordion">
                                    <div class="accordion-body">
                                        Yes, we take your privacy very seriously. Your personal information is encrypted in our database and never displayed publicly. When someone finds your item, they submit their contact details, which we forward to youâ€”they never see your direct contact information.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="owner-heading3">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#owner-collapse3" aria-expanded="false" aria-controls="owner-collapse3">
                                        How do I get notified when someone finds my item?
                                    </button>
                                </h2>
                                <div id="owner-collapse3" class="accordion-collapse collapse" aria-labelledby="owner-heading3" data-bs-parent="#ownerAccordion">
                                    <div class="accordion-body">
                                        When someone scans your registered tag, they'll submit their contact information through our system. You'll immediately receive an email notification with their details so you can reach out directly to arrange recovery of your item.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="owner-heading4">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#owner-collapse4" aria-expanded="false" aria-controls="owner-collapse4">
                                        Can I register multiple tags to the same account?
                                    </button>
                                </h2>
                                <div id="owner-collapse4" class="accordion-collapse collapse" aria-labelledby="owner-heading4" data-bs-parent="#ownerAccordion">
                                    <div class="accordion-body">
                                        Yes, you can register as many tags as you need with the same contact information. Each tag will have its own unique identifier, but notifications will be sent to the same contact details you've provided.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- For Finders -->
                <div class="card mb-4">
                    <div class="card-header bg-light">
                        <h2 class="mb-0">For Item Finders</h2>
                    </div>
                    <div class="card-body px-0 py-0">
                        <div class="accordion" id="finderAccordion">
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="finder-heading1">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#finder-collapse1" aria-expanded="true" aria-controls="finder-collapse1">
                                        What do I do if I find an item with an NFC tag?
                                    </button>
                                </h2>
                                <div id="finder-collapse1" class="accordion-collapse collapse show" aria-labelledby="finder-heading1" data-bs-parent="#finderAccordion">
                                    <div class="accordion-body">
                                        If you find an item with our NFC tag, simply scan it with your NFC-enabled smartphone. You'll be directed to a page where you can enter your contact information. The owner will then receive these details and contact you directly to arrange recovery of their item.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="finder-heading2">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#finder-collapse2" aria-expanded="false" aria-controls="finder-collapse2">
                                        Will my personal information be kept private?
                                    </button>
                                </h2>
                                <div id="finder-collapse2" class="accordion-collapse collapse" aria-labelledby="finder-heading2" data-bs-parent="#finderAccordion">
                                    <div class="accordion-body">
                                        Yes, your information is only shared with the verified owner of the item. We do not use your details for marketing purposes or share them with third parties. Your information is used solely to help reunite the lost item with its owner.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="finder-heading3">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#finder-collapse3" aria-expanded="false" aria-controls="finder-collapse3">
                                        How does the owner contact me?
                                    </button>
                                </h2>
                                <div id="finder-collapse3" class="accordion-collapse collapse" aria-labelledby="finder-heading3" data-bs-parent="#finderAccordion">
                                    <div class="accordion-body">
                                        After you submit your contact information, the owner receives it via email or SMS. They will contact you directly using the method you provided (email or phone) to arrange the recovery of their item.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Technical Questions -->
                <div class="card mb-4">
                    <div class="card-header bg-light">
                        <h2 class="mb-0">Technical Questions</h2>
                    </div>
                    <div class="card-body px-0 py-0">
                        <div class="accordion" id="techAccordion">
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="tech-heading1">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#tech-collapse1" aria-expanded="true" aria-controls="tech-collapse1">
                                        What kind of phones can scan these NFC tags?
                                    </button>
                                </h2>
                                <div id="tech-collapse1" class="accordion-collapse collapse show" aria-labelledby="tech-heading1" data-bs-parent="#techAccordion">
                                    <div class="accordion-body">
                                        Most modern smartphones (made after 2015) have NFC capabilities. This includes all iPhones from iPhone 6 and newer, and most Android phones. To scan, simply hold your phone near the NFC tag. For iPhones, no app is required; for older Android devices, you may need an NFC reader app.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="tech-heading2">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#tech-collapse2" aria-expanded="false" aria-controls="tech-collapse2">
                                        Do I need internet connectivity to scan the tag?
                                    </button>
                                </h2>
                                <div id="tech-collapse2" class="accordion-collapse collapse" aria-labelledby="tech-heading2" data-bs-parent="#techAccordion">
                                    <div class="accordion-body">
                                        You need internet connectivity to access our system after scanning the tag. The scanning process itself doesn't require internet, but to view the tag information and submit your contact details, you'll need an internet connection (Wi-Fi or mobile data).
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="tech-heading3">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#tech-collapse3" aria-expanded="false" aria-controls="tech-collapse3">
                                        Are these NFC tags waterproof?
                                    </button>
                                </h2>
                                <div id="tech-collapse3" class="accordion-collapse collapse" aria-labelledby="tech-heading3" data-bs-parent="#techAccordion">
                                    <div class="accordion-body">
                                        Most of our NFC tags are waterproof and weatherproof, making them suitable for outdoor use. The exact degree of water resistance depends on the specific tag model you purchase. Premium tags can withstand submersion and extreme weather conditions.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="text-center mt-5">
                <p>Don't see your question answered here?</p>
                <a href="{{ url_for('base_routes.contact') }}" class="btn btn-primary">Contact Our Support Team</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // This ensures the first item in each accordion section is open by default
        const firstButtons = document.querySelectorAll('.accordion-button');
        firstButtons.forEach(button => {
            if (button.getAttribute('aria-expanded') === 'true') {
                const collapse = document.querySelector(button.getAttribute('data-bs-target'));
                if (collapse) {
                    collapse.classList.add('show');
                }
            }
        });
    });
</script>
{% endblock %}